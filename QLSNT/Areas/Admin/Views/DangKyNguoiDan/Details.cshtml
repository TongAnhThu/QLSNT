@using Microsoft.AspNetCore.Mvc.Rendering
@model QLSNT.ViewModels.NguoiDanDetailsViewModel

@{
    ViewData["Title"] = "Chi tiết người dân";
    Layout = "~/Views/Shared/_Layout.cshtml";

    var danTocList = ViewBag.DanTocList as IEnumerable<SelectListItem>;
    var tonGiaoList = ViewBag.TonGiaoList as IEnumerable<SelectListItem>;
    var trinhDoList = ViewBag.TrinhDoList as IEnumerable<SelectListItem>;
    var xaList = ViewBag.XaList as IEnumerable<SelectListItem>;
}

<h2 class="fw-bold text-primary mb-4">Chi tiết người dân</h2>

<div class="card shadow-sm p-4">
    <dl class="row">
        <dt class="col-sm-3">CCCD</dt>
        <dd class="col-sm-9">@Model.MaCCCD</dd>

        <dt class="col-sm-3">Họ tên</dt>
        <dd class="col-sm-9">@Model.HoTen</dd>

        <dt class="col-sm-3">Ngày sinh</dt>
        <dd class="col-sm-9">@Model.NgaySinh?.ToString("dd/MM/yyyy")</dd>

        <dt class="col-sm-3">Giới tính</dt>
        <dd class="col-sm-9">@Model.GioiTinh</dd>

        <dt class="col-sm-3">Dân tộc</dt>
        <dd class="col-sm-9">@danTocList?.FirstOrDefault(x => x.Value == Model.MaDanToc.ToString())?.Text</dd>

        <dt class="col-sm-3">Tôn giáo</dt>
        <dd class="col-sm-9">@tonGiaoList?.FirstOrDefault(x => x.Value == Model.MaTonGiao?.ToString())?.Text</dd>

        <dt class="col-sm-3">Trình độ văn hóa</dt>
        <dd class="col-sm-9">@trinhDoList?.FirstOrDefault(x => x.Value == Model.MaTDVH?.ToString())?.Text</dd>

        <dt class="col-sm-3">Tình trạng hôn nhân</dt>
        <dd class="col-sm-9">@Model.TinhTrangHonNhan</dd>

        <dt class="col-sm-3">Trạng thái công dân</dt>
        <dd class="col-sm-9">@Model.TrangThaiCongDan</dd>

        <dt class="col-sm-3">Xã thường trú</dt>
        <dd class="col-sm-9">
            @(xaList?.FirstOrDefault(x => x.Value == (Model.MaXaMoi?.ToString() ?? ""))?.Text ?? "Chưa có dữ liệu")
        </dd>

        <dt class="col-sm-3">Địa chỉ thường trú</dt>
        <dd class="col-sm-9">
            @(string.IsNullOrEmpty(Model.DiaChiThuongTru) ? "Chưa có dữ liệu" : Model.DiaChiThuongTru)
        </dd>
    </dl>

    <div class="mt-3">
        <a asp-action="Edit" asp-route-maCCCD="@Model.MaCCCD" class="btn btn-warning">Sửa thông tin cơ bản</a>
        <a asp-area="Admin" asp-controller="DangKyNguoiDan" asp-action="EditDetails" asp-route-maCCCD="@Model.MaCCCD"
           class="btn btn-info">Sửa địa chỉ thường trú</a>

        <a asp-action="Index" asp-controller="NguoiDan" class="btn btn-secondary">Quay lại danh sách</a>
    </div>
</div>
